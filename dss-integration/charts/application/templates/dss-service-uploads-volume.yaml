{{- if .Values.services.dssServiceService.enabled -}}
apiVersion: v1
kind: PersistentVolume            # Create a PersistentVolume
metadata:
  name: uploads-pv
  labels:
    type: local
spec:
  capacity:
    storage: 1Gi
  accessModes:
    - ReadWriteMany
  hostPath:                       # hostPath PersistentVolume is used for development and testing. It uses a file/directory on the Node to emulate network-attached storage
    path: "/upload"
  persistentVolumeReclaimPolicy: Retain  # Retain the PersistentVolume even after PersistentVolumeClaim is deleted. The volume is considered “released”. But it is not yet available for another claim because the previous claimant’s data remains on the volume. 
---    
apiVersion: v1
kind: PersistentVolumeClaim        # Create a PersistentVolumeClaim to request a PersistentVolume storage
metadata:                          # Claim name and labels
  name: uploads-pv-claim
  labels:
    app: data-science-studio-service
spec:                              # Access mode and resource limits
  accessModes:
    - ReadWriteMany                # ReadWriteMany means the volume can be mounted as read-write by many Nodes
  resources:
    requests:
      storage: 1Gi
{{- end -}}